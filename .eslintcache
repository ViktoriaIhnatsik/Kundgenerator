[{"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/index.js":"1","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/App.js":"2","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/reportWebVitals.js":"3","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/LoginPage.jsx":"4","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerListPage.jsx":"5","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/CustomerListItem.jsx":"6","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerCreatePage.jsx":"7","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/User.jsx":"8","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerDetailPage.jsx":"9","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerUpdatePage.jsx":"10","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/StyleComponents.jsx":"11"},{"size":632,"mtime":1610484941372,"results":"12","hashOfConfig":"13"},{"size":1248,"mtime":1610729791235,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1610447156797,"results":"15","hashOfConfig":"13"},{"size":2696,"mtime":1610639161263,"results":"16","hashOfConfig":"13"},{"size":1666,"mtime":1610729389218,"results":"17","hashOfConfig":"13"},{"size":505,"mtime":1610723512731,"results":"18","hashOfConfig":"13"},{"size":2409,"mtime":1610728588590,"results":"19","hashOfConfig":"13"},{"size":766,"mtime":1610706095238,"results":"20","hashOfConfig":"13"},{"size":3466,"mtime":1610726237542,"results":"21","hashOfConfig":"13"},{"size":2651,"mtime":1610705510331,"results":"22","hashOfConfig":"13"},{"size":458,"mtime":1610728846509,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1wvl3vo",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/index.js",[],["49","50"],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/App.js",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/reportWebVitals.js",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/LoginPage.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerListPage.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/CustomerListItem.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerCreatePage.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/User.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerDetailPage.jsx",["51","52"],"import React, {useState, useEffect} from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport { BodyDetail } from '../components/StyleComponents'\nimport User from '../components/User'\n\n\n\nexport default function CustomerDetailPage(props) {\n//console.log(props)\nconst customerId = props.match.params.id\nconst [customerItem, setCustomerItem] = useState(null)  // vi fått objekt från api i console; null för att kolla om det finns customerItem i return \nconst history = useHistory()\n\n\n//få detail info för varje kund\nfunction getCustomerItem() {\n  const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` //för att få info för en specifik customer\n  const token = localStorage.getItem(\"WEBB20\")\n  fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n     .then(res => res.json())\n    .then(data => setCustomerItem(data))\n}\n\n\n//ta bort customer\n function deleteCustomer() {   \n   const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` //för att få info för en customer\n    const token = localStorage.getItem(\"WEBB20\")\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n    .then(() => history.push('/home')) // gå tillbaka till customer list page\n }\n\n\nuseEffect (() => {  \n   getCustomerItem()\n }, [])\n\n\n  return (\n    <div className=\"container\">\n      <User/>\n\n     {customerItem // kolla om customerItem finns \n     ? (\n        <BodyDetail>\n          <h1 className=\"text-primary \">{customerItem.name}</h1>\n           \n           <table className=\"table table-striped table-bordered  \">\n            <tbody>\n\n            <tr>\n               <td>Organisation Number</td>\n               <td>{customerItem.organisationNr}</td>\n            </tr>\n\n            <tr>\n              <td>VAT Number</td>\n              <td>{customerItem.vatNr}</td>\n            </tr>\n\n            <tr>\n              <td>Reference</td>\n              <td>{customerItem.reference}</td>\n            </tr>\n\n            <tr>\n              <td>Payment Term</td>\n              <td>{customerItem.paymentTerm}</td>\n            </tr>\n\n             <tr>\n              <td>Website</td>\n              <td>\n                <a href={customerItem.website} target=\"_blank\"> {/* target -> oppna ny fönster*/}\n                  {customerItem.website}\n                </a>\n              </td>\n            </tr>\n\n             <tr>\n              <td>Email</td>\n              <td>\n                <a href={`mailto:${customerItem.email}`}> {/* a taget använder utanför react, vi vill standard webläser beteende*/}\n                  {customerItem.email}\n                </a>\n              </td>\n            </tr>\n\n            <tr>\n              <td>Phone Number</td>\n              <td>{customerItem.phoneNumber}</td>\n            </tr>\n\n             </tbody>      \n          </table>\n\n          <button className=\"btn btn-danger mt-2 mr-3 \" onClick={deleteCustomer}>Delete Customer</button>\n\n           <Link className=\"btn btn-success  mt-2\"  to={`/customers/${customerId}/edit`}>Edit Customer</Link>\n\n          </BodyDetail>\n      \n      )\n      :\n      (\n         <span>Laddar data...</span> // om det finns inte \n      )\n    }    \n\n        <Link  className=\"btn btn-outline-secondary mt-4\"  to=\"/home\">\n         Back to Customers\n       </Link>  \n    </div>\n  )\n}\n","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerUpdatePage.jsx",["53"],"import React, { useState, useEffect} from 'react'\nimport { useHistory } from 'react-router-dom'\nimport User from '../components/User'\n\nexport default function CustomerUpdatePage(props) {\n  const customerId = props.match.params.id // id ligger här -> console.log(props)\n  const [formData, setFormData] = useState({})\n  const history = useHistory()\n\n  function getCustomerItem() {\n   const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` //för att få info för en customer\n    const token = localStorage.getItem(\"WEBB20\")\n    fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n    .then(res => res.json())\n    .then(data => setFormData(data))\n }\n\n  useEffect (() => {\n   getCustomerItem()\n }, [])\n\n function handleOnChange(e) {\n   const name = e.target.name  //kollar namn \n   const value = e.target.value  //kolar input vad man skriv\n   const newObj = {...formData, [name]: value} //uppdatera varje gång med ny info\n   setFormData(newObj)\n }\n\n   function renderInput(name, label, type) {\n    return (\n    <div className=\"col-md-6\">\n     <label className=\"form-label\">{label}</label>\n      <input className=\"form-control\"\n       type={type || \"text\"} \n       name={name} \n       value={formData[name] || \"\"}  // kollar om vi hinner göra fetch så sätter formData, om inte retunerar tom sträng\n       onChange={handleOnChange}\n    />\n    </div>\n    )\n  }\n\n   function handleOnSubmit(e) {\n    e.preventDefault()\n    const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` \n    const token = localStorage.getItem(\"WEBB20\")\n    fetch(url, {\n      method: \"PUT\", // När man vill förändra hela objektet\n      body: JSON.stringify(formData),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n    .then(res => res.json())\n    .then(data => history.push(`/customers/${customerId}`))\n\n  }\n  return (\n    <div className=\"container\">\n    <User />\n   \n     <form  className=\"row g-2\" onSubmit={handleOnSubmit}>\n        {renderInput(\"name\", \"Customer Name\")}\n        {renderInput(\"email\", \"Customer Email\")}\n        {renderInput(\"organisationNr\", \"Organisation Number\")}\n        {renderInput(\"paymentTerm\", \"Payment Term\", \"number\")}\n        {renderInput(\"phoneNumber\", \"Phone Number\", \"tel\")}\n        {renderInput(\"reference\", \"Reference\")}\n        {renderInput(\"vatNr\", \"Vat Number\")}\n        {renderInput(\"website\", \"Website\", \"url\")}\n        <button className=\"btn btn-success mt-5 mx-auto\" type=\"submit\">Update Customer</button>\n      </form>\n    </div>\n  )\n}\n","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/StyleComponents.jsx",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":47,"column":5,"nodeType":"60","endLine":47,"endColumn":7,"suggestions":"61"},{"ruleId":"62","severity":1,"message":"63","line":85,"column":17,"nodeType":"64","endLine":85,"endColumn":64},{"ruleId":"58","severity":1,"message":"59","line":25,"column":5,"nodeType":"60","endLine":25,"endColumn":7,"suggestions":"65"},"no-native-reassign",["66"],"no-negated-in-lhs",["67"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getCustomerItem'. Either include it or remove the dependency array.","ArrayExpression",["68"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement",["69"],"no-global-assign","no-unsafe-negation",{"desc":"70","fix":"71"},{"desc":"70","fix":"72"},"Update the dependencies array to be: [getCustomerItem]",{"range":"73","text":"74"},{"range":"75","text":"74"},[1435,1437],"[getCustomerItem]",[793,795]]