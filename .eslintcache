[{"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/index.js":"1","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/App.js":"2","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/reportWebVitals.js":"3","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/LoginPage.jsx":"4","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerListPage.jsx":"5","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/CustomerListItem.jsx":"6","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerCreatePage.jsx":"7","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/User.jsx":"8","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerDetailPage.jsx":"9","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerUpdatePage.jsx":"10"},{"size":632,"mtime":1610484941372,"results":"11","hashOfConfig":"12"},{"size":871,"mtime":1610479614436,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1610447156797,"results":"14","hashOfConfig":"12"},{"size":2632,"mtime":1610488348164,"results":"15","hashOfConfig":"12"},{"size":1254,"mtime":1610477256737,"results":"16","hashOfConfig":"12"},{"size":304,"mtime":1610461656739,"results":"17","hashOfConfig":"12"},{"size":2284,"mtime":1610476985001,"results":"18","hashOfConfig":"12"},{"size":639,"mtime":1610476834478,"results":"19","hashOfConfig":"12"},{"size":3080,"mtime":1610479672262,"results":"20","hashOfConfig":"12"},{"size":2473,"mtime":1610479963757,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1wvl3vo",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"26"},"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/index.js",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/App.js",[],["45","46"],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/reportWebVitals.js",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/LoginPage.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerListPage.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/CustomerListItem.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerCreatePage.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/components/User.jsx",[],"/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerDetailPage.jsx",["47","48"],"import React, {useState, useEffect} from 'react'\nimport { useHistory, Link } from 'react-router-dom'\n\n\nexport default function CustomerDetailPage(props) {\n//console.log(props)\nconst customerId = props.match.params.id\nconst [customerItem, setCustomerItem] = useState(null)  // vi fått objekt från api i console; null för att kolla om det finns customerItem i return \nconst history = useHistory()\n\n\n//få detail info för varje kund\nfunction getCustomerItem() {\n  const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` //för att få info för en specifik customer\n  const token = localStorage.getItem(\"WEBB20\")\n  fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n     .then(res => res.json())\n    .then(data => setCustomerItem(data))\n}\n\n\n//ta bort customer\n function deleteCustomer() {   \n   const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` //för att få info för en customer\n    const token = localStorage.getItem(\"WEBB20\")\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n    .then(() => history.push('/home')) // gå tillbaka till customer list page\n }\n\n\nuseEffect (() => {  \n   getCustomerItem()\n }, [])\n\n\n  return (\n    <div>\n     <p>Customer Detail Page</p>\n\n     {customerItem // kolla om customerItem finns \n     ? (\n        <div>\n          <h1>{customerItem.name}</h1>\n           \n           <table>\n            <tbody>\n\n            <tr>\n               <td>Organisation Number</td>\n               <td>{customerItem.organisationNr}</td>\n            </tr>\n\n            <tr>\n              <td>VAT Number</td>\n              <td>{customerItem.vatNr}</td>\n            </tr>\n\n            <tr>\n              <td>Reference</td>\n              <td>{customerItem.reference}</td>\n            </tr>\n\n            <tr>\n              <td>Payment Term</td>\n              <td>{customerItem.paymentTerm}</td>\n            </tr>\n\n             <tr>\n              <td>Website</td>\n              <td>\n                <a href={customerItem.website} target=\"_blank\"> {/* target -> oppna ny fönster*/}\n                  {customerItem.website}\n                </a>\n              </td>\n            </tr>\n\n             <tr>\n              <td>Email</td>\n              <td>\n                <a href={`mailto:${customerItem.email}`}> {/* a taget använder utanför react, vi vill standard webläser beteende*/}\n                  {customerItem.email}\n                </a>\n              </td>\n            </tr>\n\n            <tr>\n              <td>Phone Number</td>\n              <td>{customerItem.phoneNumber}</td>\n            </tr>\n\n             </tbody>      \n          </table>\n\n          <button onClick={deleteCustomer}>Delete Customer</button>\n\n           <Link to={`/customers/${customerId}/edit`}>Edit Customer</Link>\n\n          </div>\n      )\n      :\n      (\n         <span>Laddar data...</span> // om det finns inte \n      )\n    }    \n    </div>\n  )\n}\n","/Users/viktoriaignatik/WEBB/Frontend 3/12. individueluppgift/ind-uppgift/src/pages/CustomerUpdatePage.jsx",["49"],"import React, { useState, useEffect} from 'react'\nimport { useHistory } from 'react-router-dom'\n\nexport default function CustomerUpdatePage(props) {\n  const customerId = props.match.params.id // id ligger här -> console.log(props)\n  const [formData, setFormData] = useState({})\n  const history = useHistory()\n\n  function getCustomerItem() {\n   const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` //för att få info för en customer\n    const token = localStorage.getItem(\"WEBB20\")\n    fetch(url, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n    .then(res => res.json())\n    .then(data => setFormData(data))\n }\n\n  useEffect (() => {\n   getCustomerItem()\n }, [])\n\n function handleOnChange(e) {\n   const name = e.target.name  //kollar namn \n   const value = e.target.value  //kolar input vad man skriv\n   const newObj = {...formData, [name]: value} //uppdatera varje gång med ny info\n   setFormData(newObj)\n }\n\n   function renderInput(name, label, type) {\n    return (\n    <div>\n     <label>{label}</label>\n      <input \n       type={type || \"text\"} \n       name={name} \n       value={formData[name] || \"\"}  // kollar om vi hinner göra fetch så sätter formData, om inte retunerar tom sträng\n       onChange={handleOnChange}\n    />\n    </div>\n    )\n  }\n\n   function handleOnSubmit(e) {\n    e.preventDefault()\n    const url = `https://frebi.willandskill.eu/api/v1/customers/${customerId}/` \n    const token = localStorage.getItem(\"WEBB20\")\n    fetch(url, {\n      method: \"PUT\", // När man vill förändra hela objektet\n      body: JSON.stringify(formData),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n    .then(res => res.json())\n    .then(data => history.push(`/customers/${customerId}`))\n\n  }\n  return (\n    <div>\n     <p>Update Customer</p> \n     <form onSubmit={handleOnSubmit}>\n        {renderInput(\"name\", \"Customer Name\")}\n        {renderInput(\"email\", \"Customer Email\")}\n        {renderInput(\"organisationNr\", \"Organisation Number\")}\n        {renderInput(\"paymentTerm\", \"Payment Term\", \"number\")}\n        {renderInput(\"phoneNumber\", \"Phone Number\", \"tel\")}\n        {renderInput(\"reference\", \"Reference\")}\n        {renderInput(\"vatNr\", \"Vat Number\")}\n        {renderInput(\"website\", \"Website\", \"url\")}\n        <button type=\"submit\">Update Customer</button>\n      </form>\n    </div>\n  )\n}\n",{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":44,"column":5,"nodeType":"56","endLine":44,"endColumn":7,"suggestions":"57"},{"ruleId":"58","severity":1,"message":"59","line":82,"column":17,"nodeType":"60","endLine":82,"endColumn":64},{"ruleId":"54","severity":1,"message":"55","line":24,"column":5,"nodeType":"56","endLine":24,"endColumn":7,"suggestions":"61"},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getCustomerItem'. Either include it or remove the dependency array.","ArrayExpression",["64"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement",["65"],"no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},{"desc":"66","fix":"68"},"Update the dependencies array to be: [getCustomerItem]",{"range":"69","text":"70"},{"range":"71","text":"70"},[1337,1339],"[getCustomerItem]",[755,757]]